const { getModuleByDisplayName, React } = require('powercord/webpack');

const Flex = getModuleByDisplayName('Flex');
const DFormItem = getModuleByDisplayName('FormItem');
const FormDivider = getModuleByDisplayName('FormDivider');

const flexClassName = `${Flex.Direction.VERTICAL} ${Flex.Justify.START} ${Flex.Align.STRETCH} ${Flex.Wrap.NO_WRAP}`;

module.exports = class FormItem extends React.Component {
  constructor () {
    super();
    const classModule = powercord.pluginManager.get('pc-classNameNormalizer')
      ._fetchAllModules()
      .find(m => Object.keys(m).includes('marginBottom20'));

    this.marginBottom20 = classModule.marginBottom20;
    this.marginTop20 = classModule.marginTop20;
  }

  render () {
    return (
      <DFormItem
        title={this.props.title}
        className={`${flexClassName} ${this.marginBottom20}`}
      >
        {this.props.children}
        <FormDivider className={this.marginTop20} />
      </DFormItem>
    );
  }
};
