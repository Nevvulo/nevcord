const asyncArray = {
  map: async (array, map) => {
    const out = [];
    await Promise.all(array.map(async item => out.push(await map(item))));
    return out;
  },

  filter: async (array, filter) => {
    const out = [];
    await Promise.all(array.map(async item => {
      if (await filter(item)) {
        out.push(item);
      }
    }));
    return out;
  }
};

module.exports = asyncArray;
